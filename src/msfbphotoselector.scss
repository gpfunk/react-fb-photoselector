$background-color:         rgba(233, 234, 237, 0.7);
$popover-background-color: rgba(255, 255, 255, 0.3);
$text-color:               #6a7180;
$text-color-blue:          #3b5998;

$active-blue:              #5890ff;

$link-color:               $text-color;
$link-color-hover:         darken($link-color, 10%);

$header-background:        #3a5795;
$header-border:            #133783;

$content-background:       #ffffff;
$content-darker-border:    #d0d1d5;
$content-light-border:     #e5e6e9;
$content-dark-border:      #dfe0e4;

$item-border:              #e9eaed;

$screen-sm:                768px;
$screen-md:                992px;

$error-color:              #a94442;
$error-background:         #f2dede;
$error-border:             #ebccd1;

.ms-fbphotoselector {
    position: relative;
    width: 100%;
    height: 100%;

    margin: 0 auto;
    padding: 8px;

    border-radius: 14px;

    font-family: Helvetica, Arial, sans-serif;
    font-size: 14px;

    color: $text-color;

    background-color: rgba($item-border, .7);

    a {
        color: $link-color;
        &:hover {
            color: $link-color-hover;
            text-decoration: underline;
        }
    }

    @media (min-width: $screen-sm) {
        width: 75%;
    }

    @media (min-width: $screen-md) {
        width: 56%;
    }

    &, * {
        box-sizing: border-box;
        -webkit-font-smoothing: antialiased;
    }

    /****
     * Elements
     */

    &__popup {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;

        z-index: 1060;

        background-color: $popover-background-color;
        padding: 3% 0 2%;
    }

    &__header {
        position: relative;
        z-index: 1;

        background: $header-background url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAABUCAMAAACfvxb8AAAAeFBMVEVOaaJMZ6FIZJ89W5lBXps8WplDYJxNaKFKZqBGYp5HY54/XJpCX5xFYZ07WZg+XJpLZqBAXZtJZZ9EYZ1NaKI8Wpg9WplMaKFNaaJJZJ9LZ6FEYJ1FYp1DX5xAXptJZaBAXZo+W5k+W5pKZaBGY55LZ6A8WZg/XZpJqQD4AAAAVklEQVR4Xk3CBQoDABADwU3d3d37/x8WAqEHI/jboZV1Y2sqDuiNZtaLJ7qihe1RoxjEC/XjhMaxtCPqxBmNolVc0Nxu6IuGMbUHuqNmsbF2rO2DJhg/RwEE6AR0V3kAAAAASUVORK5CYII=) repeat-x 0 0;
        background-size: 1px 42px;
        box-shadow: 0 2px 2px -2px rgba(0, 0, 0, 0.52);

        border-bottom: 1px solid $header-border;
        border-top-left-radius: 6px;
        border-top-right-radius: 6px;

        line-height: 28px;

        padding: 7px 10px;

        font-size: 14px;
        font-weight: bold;
        color: white;
        text-shadow: 0 -1px rgba(0, 0, 0, 0.5);

        &__icon {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTg2ODA1ODMzMzVFMTFFNTgxQzNENTYwOUM0NjRGQUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTg2ODA1ODQzMzVFMTFFNTgxQzNENTYwOUM0NjRGQUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBODY4MDU4MTMzNUUxMUU1ODFDM0Q1NjA5QzQ2NEZBQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBODY4MDU4MjMzNUUxMUU1ODFDM0Q1NjA5QzQ2NEZBQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pk6GseYAAATzSURBVHja7FptbBplHH8eXo6XQge0FQrMlZV2tYOKxdXN6FzjsrnFmKUmTuN8+WAy9bvfXOb0m27R6Qc/GKuJnzTZ0qhR1y7qmiXW2HXdSrWlgIxSXtoyWl4OjpbDe9atqfSoHB5wEP6BXO7P3fH8nv/z/P4v94eZTAZUs/BAlUsNYA0gx0WQ64d0mhQshKLaKZffMucP78SThIwkM2sTgngJbv1gxF0Qbj7P1m/5+93/uUeEEJ1QHx4PklKxKKbTKFwdrdrxpga5j8/nrdKNA9KxKALn+Dto+vHKxClzh75v70OtoE4q4pRl4jgBRsacwDbtvfjUE+b3jAa1jRYkApj99QfD95/vH7wQiSQyXBc0xvOfD15AY6bDQrsHp5x+y+42XZ9cLub8HkNj3L1L1zflCljyJhkvtef2drdWDJHs6zaCWd9tY94AE0RKxrU9t5VIJRjAE4Qsb4BkOlM17oPeTcDSD2QusAR++GUcLIaiU0KhwCYQ8AOUO+CRqyRGAiBLp9Oqv2Z8h/rPvZbDLzH0g6USyiWBj/uHgFDAf3/PgzuHtJptbkV93SImFCR5fEgil4W+RGpV/OlXP5+mbnmTiVEETGaDbSFJErzz4UDgycc6T1pNhmG5TLSUfQ0FPIWOFCdEGlWyYEUt0U++vAx693W8QbHgoAgTJP/zhgImvmxkMh+KoNDrI2pZ/poXuDv4MiyRTAnk26HrwNrVckkuE29alkliReoLhluC88t6nFhZi4GpqGT0hrsXnKgQgBRb/rljf4M9Wx+NEYqro/ajt2YXT1NBdHu9XHJ320Bw/JlHtgzuOQVQKOSPKRV1i9l6uyvQFYngn73+Uq+0ovNBTCj0SCRYLFvv9ARNFKsyBgchA4ClqENhGJ/gQUhm65ejuKpBKStuRg9B+QQRCoTMR5CrOsgDXENYsMDqrslArpGMVq100+mb1Qo3mwiL7iaOvHzOfexw9xdrewTeiUd0GpXbam4Zprv+YbNh+LvL468gR79R7/GG2ojUyomzp17glqNH4E6+2Ptu/pZVuLVqyyYr3pj0PHr1j5nnEAH/bxbl4uuKaDyhaGqUY0zvK7qbYOvlznIsqdI3q1iKZFhEWIhPo7VgLKnQq5Xci0Xn/GGDy7PQuZ7QUR+xSIirlLJ5dKTLJG4vxe9DR2R9ND1kBvCmXX7rs0f3MA7Vip7R48nUqxd/Gj24/lxqIHqtytHVpn+rc5duNPt6162Fzgm794NZX8h4zzJUHoiiG61QwGPJgiwu0bNvP48O+iy1/uvvf++hA2ize3uOP91zoKjBdikkvIQ30uqX442FkRnHALJd2eKcBdliV85akO1ggnPBNssGzLngKyZUY3UPwjImvIVOLgdZlN2ly7miU6mkbEu0VC1kZbMgLNFGpwXI52+uV3LdDzICiJps4niqYlgUp8YqlYhieQNEHUQj1x0V4+h/G5sB25tVjrwBths0NyftcwPRGFFySzHFTWX6YNLuG2g3qG/mnQ+qm7Z5Dz9uOtP/zRVgatcfQz0zbLeV6DT0dVFtDn22xBMEGLnmBBPT3oEjB7rOoDHTTlguul5vxnP6LLP+sDFJpKTrzXgbA0CY2w3kYkpU9LWadwzTFX99waWWazb3fl/g33XRjZZHJCjCMHy7Vul4oLV5vKmhnlkzXjVJrSG2BrAGsLzyjwADAHF4sJt73HCVAAAAAElFTkSuQmCC");
            background-size: 28px 28px;
            background-repeat: no-repeat;
            background-position: 0 0;
            width: 28px;
            height: 28px;
            margin-right: 10px;
            display: inline-block;
            vertical-align: middle;
        }

        &__user-image {
            float: right;
            display: inline-block;
            width: 28px;
            height: 28px;
            margin-top: 1px;
        }
    }

    &__footer {
        position: absolute;
        left: 9px;
        right: 9px;
        bottom: 10px;
        background-color: $content-background;
        border-bottom-left-radius: 6px;
        border-bottom-right-radius: 6px;
        padding: 12px 6px;
        border-top: 1px solid $content-darker-border;
        box-shadow: inset 0 1px 0 0 #f6f6f7;
        font-size: 12px;
        line-height: 14px;

        a {
            cursor: pointer;
        }
    }

    &__content {
        position: relative;
        background-color: $content-background;
        border-bottom-left-radius: 6px;
        border-bottom-right-radius: 6px;
        padding: 10px 10px 39px;
        margin-top: -1px;
        border: 1px solid;
        border-color: $content-light-border $content-dark-border $content-darker-border;
        height: calc(100% - 44px);
        overflow: auto;

        &__overlay {
            position: absolute;
            top: 52px;
            left: 8px;
            right: 8px;
            bottom: 8px;
            background-color: rgba($content-background, 0.3);
        }
    }

    &__albums {
        display: block;
        list-style: none;
        margin: 0;
        padding: 0;

        &__item {
            display: block;
            margin: 0;
            padding: 0;
            border-bottom: 1px solid $item-border;

            &:last-child {
                border-bottom: none;
            }

            &-name {
                margin: 12px 0;
                font-size: 14px;
                font-weight: normal;
            }
            &-more {
                position: relative;
                border: none;
                background: none;
                cursor: pointer;
                outline: none;
                text-align: right;
                display: block;
                width: 100%;
                padding: 12px 2px;

                font-size: 14px;
                color: $text-color-blue;

                &:hover {
                    color: darken($text-color-blue, 10%);
                    text-decoration: underline;
                }

                span {
                    position: relative;
                }
            }
        }

        &__photos {
            display: block;
            list-style: none;
            margin: 0 -6px;
            padding: 0;

            &:before,
            &:after {
                content: " ";
                display: table;
            }
            &:after {
                clear: both;
            }

            &-image {
                position: relative;
                display: block;
                float: left;
                padding: 0;
                width: 33.33333333%;

                @media (min-width: $screen-md) {
                    width: 16.66666667%;
                }

                &:before {
                    display: block;
                    content: " ";
                    padding-top: 100%;
                }

                &__image {
                    position: absolute;
                    top: 6px;
                    left: 6px;
                    right: 6px;
                    bottom: 6px;
                    cursor: pointer;
                    background-size: cover;
                    background-position: center center;
                    background-repeat: no-repeat;

                    &:after {
                        display: block;
                        content: " ";
                        position: absolute;
                        top: 0px;
                        left: 0px;
                        right: 0px;
                        bottom: 0px;
                        border: 1px solid rgba(0, 0, 0, 0.15);
                        -webkit-transition: border 0.1s ease-out;
                        transition: border 0.1s ease-out;
                    }

                    &:hover:after,
                    &--selected:after {
                        border: 4px solid $active-blue;
                    }
                    &:active:after {
                        border: 6px solid $active-blue;
                    }
                }
            }
        }
    }

    &__error {
        position: absolute;
        top: 0px;
        left: 0;
        right: 0;
        width: 75%;
        margin: 0 auto;
        color: $error-color;
        background-color: $error-background;
        border: 1px solid $error-border;
        border-top-width: 0;
        padding: 8px 12px 6px;
        border-bottom-right-radius: 3px;
        border-bottom-left-radius: 3px;
        -webkit-transition: top 0.4s ease-out;
        transition: top 0.4s ease-out;

        a {
            color: $error-color;
            font-weight: bold;
            text-decoration: none;

            &:hover {
                color: darken($error-color, 10%);
                text-decoration: underline;
            }
        }

        &__icon {
            position: relative;
            display: inline-block;
            width: 22px;
            height: 18px;
            vertical-align: middle;

            &:before {
                display: block;
                content: "!";
                position: absolute;
                top: 50%;
                left: 8px;
                color: $error-background;
                font-weight: bold;
                z-index: 2;
                font-size: 14px;
                margin-top: -7px;
            }

            &:after {
                position: absolute;
                top: 50%;
                left: 0;
                display: block;
                content: " ";
                border-width: 0 11px 18px;
                border-style: solid;
                border-color: $error-color transparent;
                margin-top: -10px;
            }
        }
    }
}
